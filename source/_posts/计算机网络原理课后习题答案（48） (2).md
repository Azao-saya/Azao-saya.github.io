---
title: 04741计算机网络原理课后习题答案（1~3）
date: 2020-8-29 13:34:12 
categories: 云笔记
tags:
- 计算机网络
- 自考
cover: https://cdn.jsdelivr.net/gh/Azao-saya/image-blog@master/20210102/CG_314 (1).3lv34gvm9rs0.png
mathjax: true
---

搜答案时发生别人的传的已经过时了，于是自己整理了一份。

因为顺便也当做是笔记了，所以有时会写上问题所问范围外的内容，还请自行辨析。

我可以保证写下的内容在我的认知里可以都自圆其说，但也必然存在不少错误。

如有疑问可以通过博客上提供的任意联系方式告诉我，希望能够帮助到一起自考的小伙伴

<u>下述内容基于2018年版 李全龙编著</u> <!--more-->

## 一、计算机网络概述

### 1.什么是计算机网络

计算机网络是指将地理位置不同的具有独立功能的多态计算机及其外部设备，通过通信线路连接起来，在**网络操作系统**，**网络管理软件**及**网络通信协议**的管理和协调下，实现资源共享和信息传递的计算机系统。

### 2.网络协议的三要素是什么？每个要素的含义是什么？

网络协议是网络通信实体之间在数据交换过程中需要遵循的规则或约定，是计算机网络有序运行的重要保证，而其中的三要素分别为语义、语法、时序。

- **语义：**定义实体之间交换的信息中需要发送(或包含)哪些控制信息，这些信息具体的含义，以及针对不同含义的控制信息，接受信息段应如何响应。
- **语法：**定义实体之间交换信息的格式与结构，编码及信号电平等。
- **时序：**时序也称为同步，定义实体之间交换信息的顺序以及如何匹配活适应彼此的速度。

### 3.计算机网络的功能是什么？

- **数据通信：**用来快速传送计算机与终端、计算机与计算机之间的各种信息。利用这一特点，可将分散在各个地区的单位或部门用计算机网络联系起来，进行统一的调配、控制和管理。

- **硬件资源共享：**硬件资源的共享可以提高设备的利用率，避免设备重复投资。
- **软件资源共享：** 数据资源的共享可以充分利用已有的信息，减少软件开发的劳动，避免大型数据库的重复建设。

### 4.按网络覆盖范围划分，主要有哪几类计算机网络？各有什么特点？

1. **个域网(PAN)：**通常是由个人设备通过无线通信技术构成的小范围网络，实现个人设备间的数据传输。通常覆盖范围在1~10m。
2. **局域网(LAN):**通常部署在办公楼、厂区、校园等局部区域内，采用高速有限或无线链路链接主机，实现局部范围内高速数据传输。通常覆盖范围在10m~1km。
3. **城域网(MAN):**指覆盖一个城市范围的网络，通常覆盖范围在5km~50km。
4. **广域网(WAN):**广域网覆盖范围在几十到几千千米，通常跨越更大的地理空间，可以实现异地城域网或局域网的2互连。

### 5.按网络拓扑划分，主要有哪几类计算机网络？各有什么特点？

1. **总线型拓扑结构:**采用一条广播信道作为公共传输介质，称为总线，所有结点均与总线连接，结点间的通信均通过共享的总线进行。特点：
- 所需的电缆数量少，结构简单，易于扩展。
   - 通信范围受限，故障诊断与隔离比较困难，容易产生冲突
2. **环形拓扑结构：**环形拓扑结构网络利用通信链路将所有结点链接成一个闭合的环。环中的数据传输通常是单向(也可以双向)传输，每个结点可以从环中接受数据，并向环中进一步转发数据。   特点：
   - 所需电缆长度短，可以使用光纤，易于避免冲突
   - 某结点的故障容易引起全网瘫痪，新结点的加入或撤出过程比较麻烦，存在等待时间问题
3. **星形拓扑结构：**网络包括一个中央结点，网络中的主机通过点对点通信链路与中央结点链接。中央结点通常是集线器、交换机等设备，主机之间的通信都需要通过中央结点进行。特点：
   - 易于监控与管理，故障诊断与隔离容易
   - 中央结点是网络的瓶颈，一旦故障，全网瘫痪。网络规模受限于中央结点的端口数量
4. **混合拓扑结构：**混合拓扑结构网络是由两种以上简单拓扑结构网络混合链接而成的网络。接大多数时间网络的拓扑都属于混合拓扑结构。特点：
   - 易于扩展，可以构建不同规模网络，可根据需要优选网络结构
   - 网络结构复杂，管理与维护复杂
5. **树形拓扑结构：**树形拓扑结构网络可以看做是总线型拓扑或星形拓扑网络的扩展。目前，很多局域网都采用这种拓扑结构。特点：
   - 易于扩展，故障隔离容易
   - 对根节点的可靠性要求高，一旦根节点故障，则可能导致网络大范围无法通信。
6. **网状拓扑结构：**网状拓扑结构中的节点通过多条链路与不同的节点直接连接。特点：
   - 网络可靠性高，一条或多条链路故障时，网络仍然可联通
   - 网络结构复杂，造价成本高，选路协议复杂

### 6.计算机网络结构主要包括哪几部分？每部分的主要功能是什么？

1. **网络边缘(newwork edge):**连接到网络上的所有端系统构成了网络边缘，网络边缘上的端系统运行分布式网络应用，在端系统之间进行数据交换，实现应用目的。
2. **接入网络(access network)：**实现网络边缘的端系统与网络核心连接与接入。常见的接入网络技术有<u>(1)电话拨号接入(2)非对称数字用户线路ADSL(3)混合光纤同轴电缆HFC接入网络(4)局域网和移动接入网络。</u>
3. **网络核心(newwork core):**由通信链路互连的分组交换设备构成的网络，作用是实现网络边缘中主机之间的数据中继与转发。

### 7.简要描述你了解的接入网络，这些接入网络都有什么特点？经常使用的是哪类接入网络？(课本上只写了这几种，问经常使用什么我也很为难)

1. **电话拨号接入:**电话网络覆盖广泛，早期家庭能比较方便接入网络。带宽有限。
2. **非对称数字用户线路ADSL：**同样利用现有电话网络接入。覆盖广泛。与电话语音通信和数字通信共享一条用户线路。带宽较高。
3. **混合光纤同轴电缆HFC接入网络:**利用有限电视网络同轴电缆剩余传输能力实现电视信号与网络数据传输的共享。总带宽较高，但连接到一段同轴电缆上的用户共享带宽，受限于用户数量。
4. **局域网:**在一个范围内架设局域网，连接所有需要接入外部网络的主机，通过边缘路由器连接网络核心。随着个人终端的变多和光纤到户的普及，越来越多的家庭用户采用局域网技术实现网络接入。
5. **移动接入网络:**利用移动通信网络3G/4G/5G网络，实现移动终端的设备的网络接入。对于个人移动设备的接入，移动接入网络是不可替代的。

局域网和移动接入网络仍在频繁的使用

### 8.请简述电路交换工作过程以及电路交换的特点

在电路交换网络中，首先需要通过中间交换节点为两台主机之间建立一条专用的通信线路，称为电路，然后再利用该电路进行通信，通信结束后再拆除电路。利用电路交换进行通信包括<u>建立电路、传输数据和拆除电路</u>三个阶段。

电路交换的特点是：

- 有连接的，在通信时需要先建立电路连接，通信过程中独占一个信道，通信结束后要拆除电路连接。
- 时延和时延抖动都较小
- 对于突发性数据传输，信道利用率低，且传输速率单一

### 9.什么是报文交换？什么是分组交换？试比较两者的优劣。

- **报文交换:**发送方把要发送的信息附加上发送/接受主机的地址及其他控制信息，构成一个完整的报文，然后以报文为单位在交换网络的各节点之间以**存储-转发**的方式发送，直至送达目的主机。
- **分组交换：**需要将带传数据(即报文)分割成较小的数据块，每个数据块附加上地址、序号等控制信息构成数据分组，每个分组独立传输到目的地，目的地将收到的分组重新组装，还原为报文。分组传输过程通常也采用存储-转发交换方式。

分组交换相比较于报文交换有以下优点:

1. 交换设备存储容易要求低
2. 交换速度快
3. 可靠传输效率高
4. 更加公平

### 10.OSI参考模型包括几层？每层的主要功能是什么？

1. **物理层:**物理层是OSI参考模型的最低层，它利用传输介质为数据链路层提供物理连接。
2. **数据链路层:**实现在相邻节点之间数据可靠而有效的传输。
3. **网络层:**网络层解决的核心问题是如何将分组通过交换网络传输至目的主机，主要功能是数据的转发与路由。
4. **传输层:**传输层的作用是为上层协议提供端到端的可靠数据传输服务，包括链接控制。流量控制和拥塞机制等。
5. **会话层:**主要功能为管理和协调不同主机上各种进程直接的通信，即负责建立、管理和终止进程之间的会话。
6. **表示层:**主要用于处理应用实体间交换数据的语法，其目的是解决格式和数据的表示差别，从而为应用层提供一个一致的数据格式，使字符、格式等有差异的设备之间相互通信。
7. **应用层:**OSI参考模型的最高层。提供给用户网络服务相关，是用户与网络应用的接口。

### 11.TCP/IP参考模型包括几层？每层主要包括哪些协议？

1. **应用层:**HTTP/FTP/SMTP/POP3

2. **传输层:**TCP/UDP

3. **网络互连层:**ICMP/IGMP/BGP/OSPF/RIP

4. **网络接口层:**ARP(:地址解析协议  课本上未记录)###

### 12.考虑两台主机A和主机B由一条带宽为R(bit/s)、长度为D(m)的链路互连，信号传播速率为V(m/s)。假设主机A从t=0 时刻开始向主机B发送分组，分组长度为L位。试求：

#### 1)传播延迟(时延)d<sub>p</sub>;(下标用html<sub></sub>语法实现)

**d<sub>p</sub>=D/V**

#### 2)传输延迟d<sub>t</sub>;

**d<sub>t</sub>=L/R**

#### 3)若忽略节点处理延迟和排队延迟，则端到端延迟T是多少？

**T=d<sub>c</sub>+d<sub>q</sub>+d<sub>t</sub>+d<sub>p</sub>**

其中d<sub>c</sub>和d<sub>q</sub>延迟忽略

**d<sub>p</sub>=D/V**

**d<sub>t</sub>=L/R**

**T=0+0+D/V+L/R=D/V+L/R**

#### 4)若d<sub>p</sub>>d<sub>t</sub>,则t=d<sub>t</sub>时刻，分组的第一位在那里？

**d<sub>t</sub>V=LV/R**

（关于d<sub>p</sub>>d<sub>t</sub>，一开始我没搞清楚他为什么存在。后来才想明白若d<sub>p</sub><d<sub>t</sub>,那分组的第一比特就进入了传播时延d<sub>p</sub>里要用另一套公式了）

#### 5)V=250000km/s,L=512bit,R=100Mbit/s,则使时延带宽刚好为一个分组长度(512bit)的链路长度D是多少？

首先时延带宽为**G=d<sub>p</sub>*R**

题目要求时延带宽G=分组长度**L=512bit**

**d<sub>p</sub>=D/V**

其中V=250,000km/s,因为默认单位是m转换为**V=250,000,000m/s**

**R=100Mbit/s=100,000,000bit/s**

**L=D/V*R**

**D/250,000,000*100,000,000=512**

**D=1280m**

### 13.假设主机A向主机B以存储-转发的分组交换方式发送一个大文件。主机A到达主机B的路径上有3段链路，其速率分别是R<sub>1</sub>=500kbit/s,R<sub>2</sub>=2Mbit/s,R<sub>3</sub>=1Mbit/s

### 1)假设网络没有其他流量，则该文件传送的吞吐量是多少？

首先没有其他流量的情况下问其的吞吐量，等于求最大吞吐量。

最大吞吐量约等于瓶颈链路的带宽

公式是**Thr=min(R<sub>1</sub>,R<sub>2</sub>,R<sub>3</sub>)=R<sub>1</sub>=500kbit/s**

###  2)假设文件大小为4MB,则传输该文件到主机B大约需要多少时间?

（注：1K=10^3,1M=10^6

1Byte=8bit
1KB=1024Byte(字节)=8*1024bit
1MB=1024KB)

看了别人答案没用1024是用简略的用了1000，考试应该是不让用计算器，1024计算的话小数太多了，所以我感觉也是用1000

时间=文件大小/传输速度(吞吐量)

**t=4*1000\*8/500=64s**

### 14.假设主机A向主机B发送一个L=1500B的分组，主机A到大主机B的路径上有3段链路、2个分组交换机，3段链路长度分别为D<sub>1</sub>=5000km、D<sub>2</sub>=4000km、D<sub>3</sub>=1000km;每段链路的传输速率均为R=2Mbit/s，信号传输速率为V=250,000km/s，分组减缓及处理每个分组的时延为d<sub>c</sub>=3ms。试求：

#### 1)若以存储-转发的分组交换方式，则该分组从主机A到达主机B的端到端时延是多少？

题目中涉及结点处理时延，传输时延和传播时延，因为只发送一个分组没有排队时延，实际题目中也未给出。

**d<sub>c</sub>=3*2=6ms**

三段链路所以产生了三次传输时延

**d<sub>t</sub>=L/R*3=1500\*8/(2\*1,000,000)\*3=0.018s=18ms**

**d<sub>p</sub>=(D<sub>1</sub>+D<sub>2</sub>+D3)/V=(5000km+4000km+1000km)/250,000km=0.04s=40ms**

注意：此处原单位是为m，但两边单位相同也没必要进行换算了

**d<sub>h</sub>=d<sub>c </sub>+d<sub>q</sub>+d<sub>t</sub>+d<sub>p</sub>=6+0+18+40=64ms**

#####  2)若dc=0，且不采取存储-转发的分组交换方式,而是分组交换机直接转发收到的每个分组(即直通交换)，则该分组从主机A到达主机B的端到端时延是多少?

**d<sub>t</sub>=L/R*3=1500\*8/(2\*1,000,000)\*3=0.018s=18ms**

**d<sub>p</sub>=(D<sub>1</sub>+D<sub>2</sub>+D3)/V=(5000km+4000km+1000km)/250,000km=0.04s=40ms**

**d<sub>h</sub>=d<sub>c </sub>+d<sub>q</sub>+d<sub>t</sub>+d<sub>p</sub>=0+0+18+40=58ms**

感觉题意没这么复杂直接删去d<sub>c </sub>即可

查了一下直通交换是直接转发不存储，也就只是丢弃了d<sub>c </sub>的延迟。主机A到主机B还是仍有三段链路，而不是主机A和主机B用一条链路链接在一起。

###  15.如图1.18所示的网络。A在t=0时刻开始向C发送一个2Mbit的文件；B在t=0.1+e s（e为无限趋近于0的小正实数）向D发送一个1Mbit的文件。忽略传播延迟和结点处理延迟(注:k=10<sup>3</sup>,M=10<sup>6</sup>  )

ps：上标用html<sup></sup>语法实现

 ![img](https://img-blog.csdnimg.cn/20200310095743799.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lhcmFSZW4=,size_16,color_FFFFFF,t_70) 

####  1)如果图中网络采用存储-转发的报文交换方式,则A将2Mbit的文件交付给C需要多长时间?B将1Mbit的文件交付给D需要多长时间?

A到C通过三条链路，忽略结点处理延迟和传播延迟以及由于是一个发送忽略排队延迟，只用考虑传播延迟

**d<sub>p1</sub>=2/10+2/20+2/10=0.5s=500ms**

B到D通过三条链路，且在第一次发送时间点慢了0.1s，期间两个交换结点的输出链路被占用。需等待排队时延。但需要注意的是这0.1s不需要加入计算中去，题目只是为了产生排队时延。

**d<sub>p2</sub>=1/10+2/20(A占用链路产生的排队时延)+1/20+1/10=0.35s=350ms**

####  2)如果图中网络采用存储-转发的分组交换方式,分组长度为等长的1kbit,且忽略分组头开销以及报文的拆装开销,则A将2Mbit的文件交付给C需要大约多长时间?B将1Mbit的文件交付给D需要大约多长时间?

首先将A、B文件分组

A=2Mbit=2000kbit=2000组

B=1Mbit=1000kbit=1000组

A先发送了0.1秒的分组，由于采取了分组交换且忽略了传输时延和结点处理时延，这部分内容可以视作直接送到C主机了

10000*0.1=1000组

~~t=0.1s的时刻，A1000组到达交换结点占用全部带宽开始，B开始发送内容~~

1. 并不能说通，t=0.1时刻占用第二条链路的不只有A先到达的1000组，A后续的组和B的组都有在使用。

从t=0.1s时刻起与B共享连接路由器的链路，平均各共享到带宽10Mbit 

A用10mbit带宽传输完后续的内容，用时0.1s合计0.2秒

A用10mbit带宽传输完1000组内容，用时0.1秒

### 3)报文交换与分组交换相比,哪种交换方式更公平? 

上述条件下忽略传播延迟和结点处理延迟分组交换更公平

（报文不可被分割结点需要接受到完整的报文在发送，这部分在上述计算中大大增加了时间）

---

第一章完结吐槽

后续的计算题初看有点头晕，其实只要熟记公式就可以了。甚至D V R这些字母代表的含义都没有更换，只要知道公式，数据是直接可以拿来用的。感觉还是有在限制考试难度的，要有信心一次通过鸭。

## 二、网络应用

### 1. **计算机网络应用可以分为哪几种体系结构的应用类型？各种应用类型的特点是什么？ P51**

1. **客户端/服务器(C/S):**通信只在客户与服务器之间进行，客户与客户之间不进行直接通信。
2. **纯P2P结构:**没有一直在运行的传统服务器，所有通信都是在对等的通信方之间直接进行。P2P应用中的每个对等断都同时具备C/S应用的客户与服务器的特征，是一个服务器与客户的结合体。
3. **混合结构:**将C/S应用与P2P应用结合，既有中心服务器存在，又有对等端(客户)间的直接通信。

###  **2.为什么说客户端服务器通信方式是网络应用通信的基本方式？P52**

无论哪种类型的网络应用，基本通信方式都是C/S通信。

网络应用的基本通信过程就是运行在不同主机上的应用进程间以C/S方式进行通信。

###  **3.网络应用通信中，需要那些信息标识一个应用进程？P53** 

通过进程运行的**主机IP地址**以及其**套接字**所绑定的**端口号**可以标识应用进程。

### 4. **简述域名系统的层次结构** P55

因特网采用了层次树状结构的命名方法，域名的结构由标号序列组成，各标号之间用点隔开。

从上往下依次是

1. 树状结构最顶层为**根域**(一般用一个“.”表示）
2. **顶级域名**(com、cn、net、arpa)
3. **二级域名**
4. **三级域名**
5. **四级域名**

（关于二级域名之后的定义比较混乱，这是课本上的描述的答案。wiki上统一归类为子域名，通常情况下人们基于公司、产品或服务创建二级或者更低级别的域名）

###  **5.请举例说明，什么是DNS递归解析过程？什么是DNS迭代解析过程？P56**

1. **递归查询**：

   提供递归查询服务的域名服务器，可以代替查询主机或其他域名服务器，进行进一步的域名查询，并将最终解析结果发送给查询主机或服务器

   举例：提出请求时首先在本地域名服务器里进行查找，若无最终解析成果。则从根域名服务器开始查询，若无最终解析成果，服务器会自己向另外的域名服务器发出查询请求。如此反复在得到最终解析成果后才会转交给主机。

2. **迭代查询**：

   提供迭代查询的服务器，不会代替查询主机或其他域名服务器，进行进一步的查询，只是将下一步要查询的服务器告知查询主机或服务器(当然，如果该服务器拥有最终解析结果，则直接响应解析结果)

   举例：提出请求时首先在本地域名服务器里进行查找，若无最终解析成果。则从根域名服务器开始查询，若无最终解析成果，则把下一步要查询的域名服务器响应给本地域名服务器。本地域名服务器再向上一步得到的域名服务器查询，如此反复直到得到最终解析成果交给主机。

###  **6.什么是本地域名服务器？主机是如何确定本地域名服务器的？P56**

- 主机在任何时候需要进行域名解析，都会将域名查询请求发送给本地域名服务器。该服务器如果保存了被查询域名信息，则直接作出响应；如果没有则代理查询其他域名服务器，知道查询到结果，最后将查询结果发送给主机。

- 任何一台主机在网络地址配置时，都会配置一个域名服务器作为默认域名服务器，这个默认域名服务器称为本地域名服务器。主机是自行配置来确定本地域名服务器的。

###  **7.简述HTTP1.0获取一引用10个小JPEG图片网页的通信过程。 P59** 

1. HTTP客户进程向服务器的端口(如80)请求建立TCP连接，服务器收到连接确认，建立一个TCP连接。
2. HTTP客户进程基于已建立的TCP连接向服务器发送一个HTTP请求报文。请求报文中包含了路径名。
3. HTTP服务器进程接受该请求报文，从指定的路径中检索出文件，并封装到一个HTTP响应报文中，发送给客户进程。
4. HTTP服务器进程通知TCP断开该TCP连接
5. HTTP客户端收响应报文，断开TCP连接。游览器从响应报文中提取出HTML文件，进行解析显示，并获知还有10个JPEG图片的引用。
6. 对每个引用的JPEG图片，重复前4个步骤。

###  **8.什么是非持久HTTP？什么是非流水方式的持久HTTP？什么是流水方式的持久HTTP？简述交互过程。P60**

1. **非持久连接：**是指HTTP客户与HTTP服务器建立TCP连接后，通过该连接发送HTTP请求报文，接受HTTP响应报文，然后断开连接。
2. **非流水方式持久连接：**也称非管道方式持久连接，客户端在通过持久连接受到前一个响应报文后，才能对下一个对象的请求报文。
3. **流水方式的持久连接：**也称管道方式持久连接，客户端在通过持久连接受到前一个对象的响应报文之前，连续依次发送对后续对象的请求报文，然后再通过该连接依次接受服务器发挥的响应报文。

### 9.假设在游览某网页时单机了一个超链接，URL为"http://www.kicker.com.cn/index.html"，且该URL对应的IP地址在你的计算机上没有缓存；文件index.html引用了8个小图像。域名解析过程中，无等待的一次DNS解析请求与响应时间记为RTTd，HTTP请求传输Web对象过程的一次往返时间记为RTTh。请回答下列问题；

#### 1)游览器解析到URL对应的IP地址的最短时间是多少?最长时间是多少？

- 最短时间：在主机没有缓存的情况下，本地域名服务器有该域名的IP地址缓存，则最短时间为RTTd。

- 最长时间：在主机没有缓存的情况下，查询本地域名服务器未得到结果，进而查询根域名服务器无果，继续查询顶级域名服务器com.cn无果(存疑，com.cn一个特殊的顶级域名)，最后查询到权威域名服务器得到最终结果，至此答案应该是4RTTd

  (此处查了一下网上的答案，虽然众口不一但所有人的答案5RTTd，回传结果需要占用一个响应时间？为此发现了哈工大MOOC开的网络课程里也用了这个习题当作作业，像里面老师提问了希望能得到回答。)
  
  （ 比较能说服我的是cn是com的二级域名 ，额外一步在这里产生。真写的话还是写5RTTD）

###　2）若浏览器没有配置并行TCP连接，则基于HTTP1.0获取URL链接Web页完整内容(包括引用的图像)需要多长时间(不包括域名解析时间)?

HTTP1.0默认使用持久连接，且备注了未使用并行TCP连接

请求一次Web页面，加上请求8次图像，加上因为非持久连接每次都要建立TCP连接

**2\*（8+1）=18RTTh**

####  3)若浏览器配置**5个并行TCP连接**，则基于HTTP1.0获取URL链接Web页完整内容需要多长时间？

 每个TCP连接最多允许传输一个对象 ，设置2轮并行TCP连接一轮4个。一开始没绕过来由于是并行的，所以不用管连接数量，一轮只消耗一次建立TCP时间和请求时间

**2+2*2=6RTTh**

#### 4)若游览器没有配置并行TCP连接，则基于非流水方式的HTTP1.1获取URL链接Web页完整内容需要多长时间？基于流水方式的HTTP1.1获取URL链接Web页完整内容需要多长时间？

HTTP1.1为持久连接，非流水方式每个被引用的对象需要消耗一次时间

**非流水方式：2+8=10RTTh**

**流水方式：2+1=3RTTh**

## 10.电子邮件主要由那几部分构成？P67

**邮件服务器、简单邮件传输协议（SMTP）、用户代理和邮件读取协议。**

#### 11.简述SMTP发送邮件的过程。P69

**简述：SMTP使用传输层TCP，在SMTP客户与服务器（默认25号端口）之间建立TCP连接后，经历握手阶段。邮件发送阶段和关闭阶段，完成邮件传送。**

1. 客户端使用TCP(具体是telnet)命令通过连接到SMTP服务器，建立会话
2. 邮件服务器发送220，告知连接已成功
3. 开启握手阶段客户通过HELO命令向服务器发送了自己的域名
4. 邮件服务器以250类型的消息进行了应答，表示服务器可用。至此完成了握手
5. 进入邮件传输阶段，客户通过MAIL FROM和RCPT TO命令向服务器通告了邮件发送者和邮件接收者
6. 服务器发出DATA命令，客户端收到后开始传输邮件内容
7. 客户通过向服务器发送“5CRLF.CRLF”，进入最后关闭阶段
8. 客户发送QUIT命令通告无后续传输内容，并请求结束本次SMTP会话，关闭TCP连接
9. 服务器针对QUIT命令，发送221类型应答，同意结束SMTP会话，并断开TCP连接

###  **12.FTP的“带外控制”特性是什么含义？控制连接和数据连接各有什么特点？用途分别是什么？P74**

- **带外控制：**由于FTP专门使用一个独立的控制连接传输控制信息，与传输文件信息进行分离，所以将FTP这种控制信息的传送方式称为带外控制

- **控制连接：**会在整个会话期间一直保持打开，是持久的。

  ​	用途：控制连接用于在客户与服务器之间传输控制信息。

- 数据连接：是临时的，非持久的。数据传输结束便断开连接

  ​	用途：数据连接用于实际传送文件内容

### 13.考虑向N个对等方(用户)分发F=15Gb的一个文件。该服务器具有u<sub>s</sub>30Mbit/s的上传速率，每个对等方的下载速率d<sub>i</sub>=2Mbit/s,上传速率为u。请分别针对客户/服务器分发模式和P2P分发模式两种情况，对于N=10、100和1000以及u=500kbit/s、1Mbit/s和2Mbit/s的每种组合，绘制最小分发时间图表(注：k=10<sup>3</sup>、M=10<sup>6</sup>、G=10<sup>9</sup>)


$$
Dcs=max{\{\frac{nF}{u_s},F/d_{min}\}}
$$

$$
Dpsp=max{\{\frac{F}{u_s},\frac{F}{d_{min}},\frac{nF}{u_s+\sum^{n}_{i=1}u_i}\}}
$$

数学公式是由markdown嵌入的LaTeX实现的，先放出具体代码

```
Dcs=max{\{\frac{nF}{u_s},F/d_{min}\}}

Dpsp=max{\{\frac{F}{u_s},\frac{F}{d_{min}},\frac{nF}{u_s+\sum^{n}_{i=1}u_i}\}}
```

先解释下公式max是指这个数组内最大的数为最终答案

第二行的那个符号为求和公式下界为1，上界为n。表示u<sub>i</sub>从u<sub>1</sub>开始取数，一直取到u<sub>n</sub>后全部加起来(u<sub>1</sub>+u<sub>2</sub>+u<sub>3</sub>...+u<sub>n</sub>), 

**Dcs**先算出不用变化的
$$
{\frac{F}{d_{min}}=\frac{15*10^9}{2*10^6}}=7.5*10^3s
$$



只列出一次计算过程,详情见表
$$
\frac{NF}{u_s}=\frac{10*15*10^9}{30*10^6}=5*10^3s
$$
5000<7500 Dcs=7500

|  N   |   DCS   |
| :--: | :-----: |
|  10  |  7500s  |
| 100  | 50000s  |
| 1000 | 500000s |

需要注意的是u<sub>s</sub>和u不是同一个东西，us代表服务器的上传带宽，u是对等方的上传带宽。上述计算中没有用到u

**P2P**
$$
{\frac{F}{d_{min}}=\frac{15*10^9}{2*10^6}}=7.5*10^3s
$$

$$
\frac{F}{u_s}=\frac{15*10^9}{30*10^6}=500
$$

us仍然是服务器的上传带宽，只列出一次计算过程,详情见表
$$
\frac{nF}{u_s+\sum^{n}_{i=1}u_i}=\frac{10*15*10^9}{30*10^6+275000}
$$
并不是.....u<sub>i</sub>是下标不是u乘以i，写成这样是因为每个对等方的u是不一样的，它也是变量，在这题中可以直接视作10*u

**正确答案为：**
$$
\frac{nF}{u_s+\sum^{n}_{i=1}u_i}=\frac{10*15*10^9}{30*10^6+10*5*10^5}=\frac{15*10^4}{35}\approx4.29*10^3s
$$
4.29*10^3<7.5\*10^3 Dp2p=7.5\*10^3

数学弱智手算的够呛，但没有到无法手算的程度。所以考试能不能带计算器啊

|  N   | Dp2p(u=500) | Dp2p(u=1000) | Dp2p(u=2000) |
| :--: | ----------- | ------------ | ------------ |
|  10  | 7.5*10^3    | 7.5*10^3     | 7.5*10^3     |
| 100  | 1.875*10^4  | 1.154*10^4   | 7.5*10^3     |
| 1000 | 2.83*10^4   | 1.456*10^4   | 7.5*10^3     |

###  **14.简述TCP客户程序与TCP服务器程序的SockertAPI基本函数调用过程。P81**

**服务器端：**

1. 绑定一个端口号
2. 服务器开始监听，等待客户端发送请求
3. 接受客户端发来的请求，建立连接
4. 等待客户机发送数据过来
5. 做好相应处理后，发送给客户端
6. 如果此时双方都几完成，就关闭TCP连接
7. 结束程序，退出

**客户端：**

1. 不分配固定端口，而是通过调用socket接口获取一个临时端口
2. 使用该临时端口和服务器建立TCP连接
3. 对方接受连接以后，客户端开始发送请求数据
4. 等待服务断发回来的响应数据，必要时再次调用send请求
5. 所有数据发送完后，可以关闭该TCP连接的接口
6. 结束程序，退出

###  **15.简述UDP客户程序与UDP服务器程序的SockertAPI基本函数调用过程。P81** 

**服务器端：**

1. 获得一个固定端口号
2. 端口号和服务器进行绑定，等待客户机发来数据
3. 接受客户机发送来的数据请求
4. 收到后处理，向客户机发送响应数据
5.  必要时再次接受、处理、响应
6. 全部完成后，关闭连接
7. 结束程序

**客户端：**

1. 通过调用socket接口获取一个临时端口
2. 利用该端口向服务器端发送数据
3. 数据发送完后，等待接受服务器端的响应
4. 关闭相应端口和连接
5. 结束程序，退出

---

有一说一，做题的时候我感觉到了不少乐趣。相应的有时候陷到进去太久了，还是要提高效率和优先广度。

刚从知乎学到了一些东西顺便贴在这里，计算机这个专业方向，最重要的就是【抽象】。计算机领域，很多问题都是分层的，当你研究每一层的时候，都可以把其它层看做某种抽象，无需关心其细节，只关注于其提供的功能和接口。比如按下键盘的H键，你不需要知道键帽的机械运动，电路中的电平变化，如何把按键信息发送到电脑中。只需要知道按下H这个键，就代表输入H这个字母

## 三、传输层

###  **1.实现可靠传输的主要措施有那些？这些措施主要用于解决那些问题？ P98** 

1. **差错检查：**利用差错编码实现数据包传输过程中的比特差错检测。
2. **确认：**接受方向发送方反馈接受状态。
3. **重传：**发送方重新发送接收方没有正确接收的数据
4. **序号：**确保数据按序提交。
5. **计时器：**解决数据丢失问题。

###  **UDP与TCP分别如何实现复用分解？ P94** 

- UDP套接字为：**<目的IP地址，目的端口号>**，~~通过分配不同的目的端口号或调用bind()函数绑定一个特定的端口号，来为不同的应用进程传输数据。~~

  通过该二元组来唯一标识一个UDP套接字，当数据交付给了正确的套接字，就能进而交付给正确的进程，实现分解。

- TCP套接字为：**<源IP地址，源端口号，目的IP地址，目的端口号>**

  通过该四元组来唯一标识一个TCP套接字即一个TCP连接，当数据交付给了正确的套接字，就能进而交付给正确的进程，实现分解。

###  **3.请画出TCP报文段结构，并简要说明个字段的主要作用。 P113** 

 ![img](https://img-blog.csdnimg.cn/20200308205717698.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zOTMzMjUyOQ==,size_16,color_FFFFFF,t_70) 

1. 源端口号与目的端口号字段分别占16位，标识发送该报文段的源端口和目的端口，用于多路复用/分解来自或送到上层应用的数据。

2. 序号与确认需要字段分别占32位。

   TCP的序号是对每个应用层数据的每个字节进行编号，因此每个TCP报文段的序号是该段所封装的应用层数据的第一个字节的序号

   确认序号是期望从对方接受数据的字节序号，即该序号对应的字节尚未收到，该序号之前的字节已全部正确接受。

3. 首部长度字段占4位，指TCP段的首部长度，以4字节为计算单位，字段值为5，表示TCP段的首部长度为20字节。当该字段取值最大值15时，表示TCP段的最大首部长度，60字节。可见TCP段的选项字段最多为40字节。

4. 保留字段占6为，为今后使用，目前值为0。

5. URG、ACK、PSH、RST、SYN、FIN字段各占以为，共占6位，为6位标志位。用来说明本报文段的性质。

6. 接受窗口字段占16位，用于向对方通告接受窗口大小，表示接受放愿意接受的应用层数据字节输了，其值是本端接受对方数据的缓存剩余空间，用于实现TCP的流量控制。

7. 校验和字段占16位，校验和字段检验的范围包括首部和数据这两部分。提供了差错检测功能，计算方法与UDP校验和的计算方法相同。

8. 紧急指针字段占16位，该字段只有URG=1时才有效。它指出本报文段中的紧急数据共有多少字节，即指出紧急数据最后一个字节在数据中的位置。

9. 选项字段长度可变。TCP最初只规定了一种选项，即最大段MSS，用于对方TCP通告其缓存能够接受的数据段的最大长度MSS字节。

10. 填充字段长度为0~3字节，取值全0，其目的是为了使整个首部长度是4字节的整数倍。

###  **4.TCP为何采用三次握手来建立连接，若采用二次握手可以吗？为什么？**

不可以

三次握手的最主要的目的是保证连接是双工的，可靠更多是通过重传机制来保证的。

若采用二次握手因为网络存在数据丢失，第二次握手控制段可能丢失，这样主动发起连接的一方由于没有受到第二次握手控制段，则无法建立连接，而接受连接建立的一方则认为连接已建立，从而出现无效连接。

###  **5.请说明TCP建立连接与断开连接的过程，并给出主要状态转移。 P116** 

- 建立连接：

   1. 第一次握手：客户端作为连接建立发起端，选择客户端初始序列号x，向服务器发送（SYN=1,seq=x）的SYN段，客户状态由LISTEN进入SYN_SEND状态，等待服务器确认。
   2. 第二次握手：服务器收到客户发送的SYN段后，选择服务器初始序列号y，向客户发送(SYN=1,ACK=1,seq=y,ack_seq=x+1)的SYNACK段，同时服务器状态由LISTEN进入SYN_RCVD状态。
   3. 第三次握手：客户端收到服务器的SYNACK段后，向服务器发送(ACK=1,seq=x+1,ack_seq=y+1)的ACK段，同时，客户端进入ESTABLISHED状态，客户端确认连接已建立；当服务器收到ACK段后，也进入ESTABLISHER状态，也确认连接已建立。至此，双方确认连接建立成功
   - 状态转移：
   
     ​	建立连接过程中客户端状态名称与含义如下，关闭状态CLOSED，处于初始状态；同步已发送状态SYN_SENT;已建立状态ESTABLISHED，表示可以传送数据。
     
     ​	建立连接过程中服务器端状态名称与含义如下：关闭状态CLOSED，出狱初始状态；监听状态LISTEN;同步收到状态SYN_RCVD;已建立状态ESTABLISHED，表示可以传送数据。
   
- 断开连接：

   1. 当客户服务器发送完最后一个数据段后，可以发送一个FIN段(FIN=1,seq=u),请求断开客户到服务器的链接，其状态由ESTABLISHED进入FIN_WAIT_1,在这一状态下，只能接收服务器发送过来的数据，而不再发送数据。需要注意的是，FIN段不封装应用层数据，但是也要消耗掉1个序列号(类似于SYN段)
   2. 服务器受到客户的FIN段后，向客户发送一个ACK段(ACK=1,seq=v,ack_seq=u+1),ACK段可以封装应用层数据(如果有)。服务器状态由ESTABLISHED进入CLOSE_WAIT，在这一状态下，服务器仍然可以发送数据，但不再接受数据。当客户收到ACK段后，其状态由FIN_WAIT_1进入FIN_WAIT_2，仍然可以接受来自服务器的数据。此时的TCP连接已经关闭了客户向服务器方法的数据传输，故也称半关闭。
   3. 当服务器向客户发送完最后一个数据段后，服务器向客户发送FIN段（FIN=1，ACK=1，seq=w，ack_seq=u+1），同样，该FIN段也不绣袋应用层数据。服务器状态则由CLOSE_WAIT进入LAST_ACK,此时服务器也不再发送数据。
   4. 当客户收到服务器发送的FIN段后，向服务器发送ACK段(ACK=1,seq=u+1,ack_seq=w+1)，其状态由FIN_WAIT_2进入TIME_WAIT,等待2MSL时间，然后进入CLOSED状态，最终释放连接；服务器再收到最好一次ACK段后，状态由LAST_ACK进入CLOSED，最终释放连接。
   - 状态转移：
   
     ​	断开连接过程中，客户端状态名称与含义如下：ESTABLISHED状态，表示可以传送数据；FIN_WAIT_1终止等待1状态，等待服务器端确认；FIN_WAIT_2 终止等待2状态，等待服务器端发出的连接释放报文段；TIME_WAIT时间等待状态，表示等待2倍MSL时间后进入关闭状态CLOSED。
   
     ​	断开连接过程中，服务器端状态名称与含义如下：ESTABLISHED状态，表示可以传送数据；CLOSED_WAIT关闭状态；LAST_ACK最后确认状态；CLOSED关闭状态。

### **6.TCP如何保证可靠数据传输？ P119** 

靠TCP的可靠传输实现实现机制差错编码、确认、序号、重传、计时器、流量控制和拥塞控制。

以及数据传输协议，滑动窗口协议。

###　 **7.请分别简述GBN协议和SR协议的工作过程。 P105**

- **GBN协议：回退N步（Go-Back-N）**

   - GBN发送方必须响应三种类型的
     - **上层调用：**当上层调用GBN协议时，发送方首先检查发送窗口是否已满，即是否有Ws个已发送但未被确认的分组，如果窗口未满，则用“下一个可用序号”编号新的分组并发送，并更新“下一个可用序号”；如果窗口已满，发送方则暂不响应上层调用，拒绝发送新的数据。
     - **收到一个ACKn:**GBN协议采用累积确认方式，即当发送方收到ACKn时，表明接收方已正确接收序号为n以及序号小于n的所有分组。如果n在当前发送窗口范围内，则表明至少1个已发送未被确认分组得到了确认，发送窗口滑动在“基序号”为n+1的位置；
     - **计时器超时：**GBN协议发送方只使用1个计时器，且只对当前发送窗口的“基序号”指向的分组进行计时。如果超时，发送方重传当前发送窗口中所有已发送但未被确认的分组。
   - GBN 接收方
     - 因为Wr=1，所以GBN接收方只能接收当前接收窗口中的序号（即基序号）所指向的分组。假设当前接收窗口中的序号为n，如果接收方正确接收到序号为n的分组，则接收方发送一个ACKn，将该分组中的数据部分交付到上层，接收窗口滑动到序号n+1的位置。
     - 若收到的分组序号不为n或分组差错等，接收方丢弃该分组，并为最近按序接收的分组重新发送ACK，即ACKn-1。
   
-  SR协议：选择重传（Selective Repeat） 

   - SR发送方主要响应的3个事件

     - **上层调用，请求发送数据：**当从上层接收到数据后，SR发送方检查“下一个可用序号”是否位于当前发送窗口范围内。如果“下一个可用序号”位于发送方窗口内，则将数据封装成SR分组，并用“下一个可用序号”进行编号，发送给接收方；否则将数据缓存或者返回给上层以便以后传输。
     - **定时器超时：**与GBN不同的是，SR协议在发送方对每个已发送分组进行计时。当某个已发送未被确认分组的计时器超时时，发送方重发该分组。
     - **收到ACKn：**发送方收到ACK后，需要对确认的序号n进行判断。若n在当前发送窗口范围内，则SR发送方将该序号标记为已接收；进一步，若n等于发送基序号，则发送窗口向右移动到具有最小序号的未被去确认分组的序号处。
   
   - SR发送方主要响应的3个事件
     
     - **正确接收到序号在接收窗口范围内的分组PKTn：**分组序号n落在接收方窗口序号空间内，接收方则向发送方发送ACKn。如果**n不等于“接收基序号”且是第一次被接收到**，则缓存该分组；如果n=“接收基序号”，则将**该分组及原来收到的、序号与n连续的分组一并向上层交付**，并将接收窗口的“接收基序号”滑动到当前未正确接收到的最小序号。
     - **正确接收到序号在接收窗口左侧的分组PTKn：**分组序号n<”接收基序号“，这些分组在此之前已经正确接收并向上层提交，因此接收方丢弃PKTn（重复分组），并向发送方发送ACKn，对PTKn进行确认。
     - **其他情况：**接收方可以直接丢弃分组，不做任何响应。
### 8.请说明TCP滑动窗口机制，对比TCP滑动窗口与GBN协议的异同。 P104

- TCP滑动窗口协议：实质上就是将可靠数据传输的工作，抽象到分组序号空间，即发送方确保分组按序发送，接收方确保分组按序提交。发送方和接收方各维护一个窗口，分别称为发送窗口Ws和接收双扣Wr。
- 异同：
  - GBN接收窗口只有1个，TCP可以有多个
  - GBN只能接收基序号指向的分组无缓存能力，TCP可以接收接收窗口范围里基序号和非基序号的多个分组。

### **9.TCP与UDP的主要区别是什么？ P110** 

1. TCP提供面向连接、可靠、有序、字节流传输服务；UDP提供无连接、不可靠的数据报尽力传输服务。
2. TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，切按序到达；UDP尽最大努力交付，即不保证可靠交付，但使用UDP的应用仍然可以通过在应用程序自身中建立可靠传输机制来实现可靠数据传输。
3. TCP是面向字节流的，把应用程序交付的数据看成是一连串的无结构的字节流。UDP是面向报文的，不保证将该报文送达到目的接收进程，即便送达，也可能是乱序到达的。
4. UDP具有较好的实时性，工作效率比TCP高，适用于对告诉传输和实时性有较高的通信或广播通信。UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低。
5. 每一条TCP连接只能是点到点的；UDP支持一对一、一对多、多对一和多对多的交互通信。
6. TCP首部开销20字节；UDP的首部开销小，只有8个字节。
7. TCP对系统资源要求较多，UDP对系统资源要求较少。
8. TCP的逻辑通信信道是全双工的可靠信道，UDP则是不可靠信道

### 10.TCP如何实现拥塞控制？ P124

拥塞控制的基本思想是AIMD。拥塞窗口的调整主要分为慢启动阶段和拥塞避免阶段，在慢启动阶段，每受到一个确认段，拥塞窗口增加一个MSS，每经过一个RTT，拥塞窗口增长一倍；在拥塞避免阶段，每经过1个RTT，拥塞窗口增加1个MSS。

### **11.假设甲乙双方采用GBN协议发送报文段，甲已经发送了编号为0~7的报文段。当计时器超时时，若甲只收到0号和3号报文段的确认，则甲需要重发的报文段是哪些？ P105**

GBN采用累积确认方式，即是正确接收3以及小于的所有分组

**答：4、5、6、7报文段需要重发**

###  **12.主机甲乙通过128 kbit/s 卫星信道互连，采用滑动窗口协议发送数据，链路单向传播时延为 250 ms, 分组长度为 1000 字节。不考虑确认分组的开销，为使信道利用率不小于80%，分组序号的位数至少要达到多少位？ P108** 

$$
U_{Sender}=\frac{W_s*T_{Seg}}{T_{Seg}+RTT+T_{ACK}}
$$

**d<sub>t</sub>=L/R**

**L=1000B=8000bit**

**R=128kbit/s=1.28*10<sup>5</sup> bit/s**

**单向RTT=250ms=0.25s**

**RTT(往返时间)=0.5s**

**t<sub>seg</sub>=L/R=8000/(1.28*10^5)= 0.0625s** 

**t<sub>seg</sub>+RTT=0.0625+0.5=0.5625**

**U<sub>sender</sub>=W<sub>s</sub>*0.0625/0.5625=80%**

**W<sub>s</sub>=7.2**

**滑动窗口协议的窗口大小与序列号空间需要满足的约束条件为**
$$
W_s+W_r\le2^k
$$
 **8+Wr≤2^k** 

**Wr至少为1，则k至少为4（k是位数）**

**答：分组序号的位数至少要达到4位。**

###  **13.若甲乙之间已建立一条TCP连接，拥塞控制处于拥塞避免阶段，阈值为 8 MSS，当甲的拥塞窗口大小为 24 MSS 时发生了超时，则甲的拥塞窗口和阈值将分别调整为多少？ P125**

$$
Threshold=CongWin/2
$$

Threshold:拥塞窗口阈值，CongWin窗口

**阈值=24/2=12**

**同时将新的拥塞窗口设置为CongWin=1**

###  **14.主机甲与主机乙之间已建立一个TCP连接，主机甲向主机乙发送了两个连续的TCP段，分别包含300字节和500字节的有效载荷，第一个段的序列号为200，主机乙正确接收到两个段后，发送给主机甲的确认序列号是多少？ P119**

**确认序列号=原始序列号+TCP段长度**

**第一个段的确认序列号：200+300=500**

**第二个段的确认序列号：500+500=1000**

**答：主机乙正确接收到两个段后，发送给主机甲的确认序列号是1000。**

###  **15.主机甲与主机乙之间已建立一个TCP连接，主机甲向主机乙发送了3个连续的TCP报文段，分别包含300字节、400字节和500字节的有效载荷，第3个段的序号为900。若主机乙仅正确接收到第1个和第3个报文段，则主机乙发送给主机甲的确认序号是多少？ P121** 

**题意为第二个传失败了，只传成功第一个，要求出第一个的确认序列号：**

**第三段的序号为900，所以第二段的原始序号为900-400=500；**

**（第一段的原始序列号为500-300=200；**

​		**第一段的确认序列号为200+300=500，两者相等）**

**答：主机乙发送给主机甲的确认序号是500。**

###  **16. 主机甲与主机乙之间已建立一个TCP连接，双方持续有数据传输，且数据无差错与丢失。若甲收到1个来自乙的TCP报文段，该段的序号为1913、确认序号为2046、有效载荷为100字节，则甲立即发送给乙的TCP报文段的序号和确认序号分别是多少？ P121**

甲发送给乙的TCP报文段序号即为乙发送给甲的确认序号2046；甲发送给乙的确认序号即为乙发送给甲的序号1913+有效荷载的数据100

**2046,2013**

###  **17. 主机甲与主机乙之间已建立一个TCP连接，甲始终以MSS=1 KB大小的报文段发送数据，并一直有数据发送；乙每收到一个报文段都会发出一个接收窗口为10KB的确认段。若甲在t时刻发生超时时拥塞窗口为 8KB，则从t时刻起，不在发生超时的情况下，经过10个RTT后，甲的发送窗口是多少？ P125** 

网络拥塞会重新设置阈值和拥塞窗口

**Threshold=CongWin/2=8/2=4KB**

**CongWin=1KB**

进入慢启动阶段

**t=0，CongWin=1KB，t=RTT；CongWin=2KB；t=2RTT，CongWin=4KB**

此时拥塞窗口=阈值，开始线性增长

**5,6,7,8,9,10,~~11,12~~**

发送窗口取拥塞窗口和接收窗口的最小值，接收窗口最大为10KB

**答：甲的发送窗口为10KB**

### **18. 主机甲与主机乙之间已建立一个TCP连接，TCP最大段长度为1000字节。若主机甲的当前拥塞窗口为4000字节，此时主机甲向主机乙连续发送两个最大段后，成功收到主机乙发送的对第一个段的确认，确认段中通告的接收窗口大小为2000字节，则随后主机甲还可以继续向主机乙发送的最大字节数是多少？ P125**

乙方还有1000字节的数据未接收，而接受窗口大小为2000字节

需要预留出1000字节作为缓存，也就是还有1000字节的空间可以接受数据

所以甲主机可以向乙主机发送的最大字节数只有1000字节，1000字节为超出甲的拥塞窗口

**答：1000字节**