---
title: B1049-数列的片段和
date: 2019-11-2 8:34:12 
categories: PAT练习
tags:
- 正则表达式
- 未AC题目
cover: https://cdn.jsdelivr.net/gh/Azao-saya/image-blog@master/20210102/id=69606244.rzhzf5abaxs.png
---

## 题目描述 <!--more-->

- 给定一个正数数列，我们可以从中截取任意的连续的几个数，称为片段。例如，给定数列 { 0.1, 0.2, 0.3, 0.4 }，我们有 (0.1) (0.1, 0.2) (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4) (0.2) (0.2, 0.3) (0.2, 0.3, 0.4) (0.3) (0.3, 0.4) (0.4) 这 10 个片段。

  给定正整数数列，求出全部片段包含的所有的数之和。如本例中 10 个片段总和是 0.1 + 0.3 + 0.6 + 1.0 + 0.2 + 0.5 + 0.9 + 0.3 + 0.7 + 0.4 = 5.0。

## 输入描述

>输入第一行给出一个不超过 105 的正整数 *N*，表示数列中数的个数，第二行给出 *N* 个不超过 1.0 的正数，是数列中的数，其间以空格分隔。 

## 输出描述:

>在一行中输出该序列所有片段包含的数之和，精确到小数点后 2 位。 

## 示例

### 输入

> 4
> 0.1 0.2 0.3 0.4

### 输出

> 5.00

## 解题思路：

-  两个测试点超时
-  我自己是用三层循环来完成，0.1+（0.1+0.2）这个操作
-  这里还贴了别人的代码，说真的我不知道这数是怎么算的...

---

---

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class PAT_B1049 {
    public static void main(String[] args) throws IOException {////最后两个测试点运行超时
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int n = Integer.parseInt(br.readLine());
        String[] tempNums = br.readLine().split(" ");
        double total = 0.0;
        for (int i = 0; i <n ; i++) {
            double sum = 0;
            for (int j = i,w=i; j <n ; j++) {
               sum += Double.parseDouble(tempNums[j]);
                for (int k = w; k <j ; k++) {
                    sum +=Double.parseDouble(tempNums[k]);
                }
            }
            total +=sum;
        }
        System.out.printf("%.2f",total);
    }
}
```



```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class PAT_B1049_2 {

        public static void main(String[] args) throws IOException { //别人方法,自己的为上个仍然超时

            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
            int n = Integer.parseInt(br.readLine());
            double total = 0.0;
            double array;
            String[] tempNums = br.readLine().split(" ");
            for (int i = 0; i < n; i++) {
                array = Double.parseDouble(tempNums[i]);
                total += array * (i + 1) * (n - i);
            }
            br.close();

            System.out.printf("%.2f", total);
        }
}
```

